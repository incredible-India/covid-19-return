<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Covid-19 Return</title>

    <!-- bootstrap code  -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <!-- font awesome  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/index.css">


<!-- for the chart  -->



</head>
<body>
    

    <!-- for the loading page -->
    <div class="loader container-fluid">

        <img src="./images/covid Text.jpg" alt="" class="img-fluid covidtext">

        <h1 class="wait container">Please Wait . . .</h1>


    </div>
<!-- ///////////////////////////////////  -->


<!-- nav bar  -->

<i class="fas fa-bars navs" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
   
</i>


<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasExampleLabel">Offcanvas</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div>
        Some text as placeholder. In real life you can have the elements you have chosen. Like, text, images, lists, etc.
      </div>
      <div class="dropdown mt-3">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown">
          Dropdown button
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <li><a class="dropdown-item" href="#">Action</a></li>
          <li><a class="dropdown-item" href="#">Another action</a></li>
          <li><a class="dropdown-item" href="#">Something else here</a></li>
        </ul>
      </div>
    </div>
  </div>



<!-- ///////////////////////////////////////  -->


<!-- alertbox  -->


<div class="alert alert-danger" role="alert" style="display: none;">
 
</div>
<!-- //////////////////////////////////////// -->
<!-- main logo  -->

<div class="container-fluid logoText">

    <h1 class="cText">Covid-19</h1>
    <h2 class="Cret">Return</h2>



</div>
<!-- //////////////////////////////////////  -->

<!-- graph for world Data...  -->

<div class="container graph">

    <h3 class="India">Summary Of  <span class="c">C</span>ases</h3>
   
  
</div>


<div class="container graphs">
  <canvas id="myChart" width="400px"></canvas>

  <canvas id="myChart2" width="400px"></canvas>

</div>


<!-- font awesome  -->



<!-- The social media icon bar -->
<div class="icon-bar">
  <a href="https://github.com/incredible-India/covid-19-return" class="facebook"><i class="fa fa-github"></i></a>
  <!-- <a href="#" class="twitter"><i class="fa fa-twitter"></i></a> -->
  <a href="#" class="google"><i class="fa fa-google"></i></a>
  <a href="#" class="linkedin"><i class="fa fa-linkedin"></i></a>
  <!-- <a href="#" class="youtube"><i class="fa fa-youtube"></i></a> -->
</div>



<!-- for the table  -->

<div class="container tables">

  <marquee behavior="scroll" direction="left"  scrollamount="15" style="color: red; margin: 10px;">All the data has been taken from WHO . For more details go to the official site of WHO</marquee>
  <table class="table">
    <thead class="thead-dark">
      <tr>
 
        <th scope="col" colspan="2">INDIA</th>
    
        
      </tr>
    </thead>
    <tbody>

   
    </tbody>

  </table>
  
  <table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col" colspan="2">World</th>
     
       
      </tr>
    </thead>
    <tbody>
  
 
    </tbody>
  </table>
</div>



<!-- //myth vs fact  -->

<div class="container-fluid">
  <h1 class="myth">Myth Vs <span class="f">F</span>act</h1>
</div>

</body>



<script src="./js/index.js"></script>

<!-- chart.js  -->

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- bootstrap  -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>


<!-- for the chart  -->


<!-- <canvas id="myChart" width="400" height="400"></canvas> -->
<script>

//fetching to the api
var dataOfIndias = [];
if(navigator.onLine)
{
  document.getElementsByClassName('alert-danger')[0].style.display = "none";


  try {
    
    
  fetch('https://api.covid19api.com/summary')
  .then(result => result.json())
  .then(dataOfIndia => {
    
    for(i in dataOfIndia.Countries)
    {
      if(dataOfIndia.Countries[i].Country == "India")
      {
        dataOfIndias[0] = dataOfIndia.Countries[i].NewConfirmed;
        dataOfIndias[1] = dataOfIndia.Countries[i].TotalConfirmed;
        dataOfIndias[2] = dataOfIndia.Countries[i].NewDeaths;
        dataOfIndias[3] = dataOfIndia.Countries[i].TotalDeaths;
        dataOfIndias[4] = dataOfIndia.Countries[i].NewRecovered;
        dataOfIndias[5] = dataOfIndia.Countries[i].TotalRecovered;
        ShowGraph(dataOfIndias)

        document.getElementsByTagName('tbody')[0].innerHTML =`  
        <tr>
        <th scope="row" style = "background : lightblue;">New Confirmed</th>
        <td>${dataOfIndia.Countries[i].NewConfirmed}</td>
 
      </tr>

      <tr>
        <th scope="row">Total Confirmed</th>
        <td>${ dataOfIndia.Countries[i].TotalConfirmed}</td>
 
      </tr>

      <tr>
        <th scope="row" style = "background : red;">New Deaths</th>
        <td>${dataOfIndia.Countries[i].NewDeaths}</td>
 
      </tr>

      <tr>
        <th scope="row">Total Deaths</th>
        <td>${dataOfIndia.Countries[i].TotalDeaths}</td>
 
      </tr>
      <tr>
        <th scope="row" style = "background : green;">New Recovered</th>
        <td>${dataOfIndia.Countries[i].NewRecovered}</td>
 
      </tr>

      <tr>
        <th scope="row">Total Recovered</th>
        <td>${dataOfIndia.Countries[i].TotalRecovered}</td>
 
      </tr>
      
      <tr>
        <th scope="row" style = "background : gray;">Last Update</th>
        <td>${dataOfIndia.Countries[i].Date}</td>
 
      </tr>
      
      `

      }
    
    }

  

  })

  } catch (error) {

    document.getElementsByClassName('alert-danger')[0].innerText = `please check your internet connection...${error}`;
  document.getElementsByClassName('alert-danger')[0].style.display = "block";
  ShowGraph([null,null,null,null]);
    
  }


}else
{

  document.getElementsByClassName('alert-danger')[0].innerText = "please check your internet connection...";
  document.getElementsByClassName('alert-danger')[0].style.display = "block";
  ShowGraph([null,null,null,null]);


}


function ShowGraph(arrayofdata)
{
  
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
        labels: ['New Confirmed', 'Total Confirmed', 'New Deaths', 'Total Deaths', 'New Recovered','TotalRecovered'],
        datasets: [{
            label: '# of Votes',
            data: arrayofdata,
            backgroundColor: [
               
                'rgba(54, 162, 235)',
                'rgba(255, 206, 86)',
                'blue',
                'red',
                'rgba(175, 62, 102)',
                'rgba(45, 192, 172)',
               
            ],
            borderColor: [
            'rgba(54, 162, 235)',
                'rgba(255, 206, 86)',
                'blue',
                'red',
                'rgba(175, 62, 102)',
                'rgba(45, 192, 172)',
            ],
            borderWidth: 1
        }]
    },
    options: {
      responsive : false

      
        ,scales: {
            y: {
                beginAtZero: true
            }
        }
        , plugins: {
            title: {
                display: true,
                text: 'India'
                ,fontSize : '40px'
            }
        },

        animation :{
          duration : 1000,
          easing : "linear"
          ,loop : false
        }
    }
});

}



</script>

<!-- for the second chart  -->

<script>
 //fetching to the api
var dataOfWorld = [];

  document.getElementsByClassName('alert-danger')[0].style.display = "none";


  try {
    
    
  fetch('https://api.covid19api.com/summary')
  .then(result => result.json())
  .then(dataOfIndia => {
    
    for(i in dataOfIndia.Global)
    {
      
      
        dataOfWorld[0] = dataOfIndia.Global.NewConfirmed;
        dataOfWorld[1] = dataOfIndia.Global.TotalConfirmed;
        dataOfWorld[2] = dataOfIndia.Global.NewDeaths;
        dataOfWorld[3] = dataOfIndia.Global.TotalDeaths;
        dataOfWorld[4] = dataOfIndia.Global.NewRecovered;
        dataOfWorld[5] = dataOfIndia.Global.TotalRecovered;
       

      
    
    }

    ShowGraphs(dataOfWorld)

    document.getElementsByTagName('tbody')[1].innerHTML =`  
        <tr>
        <th scope="row">New Confirmed</th>
        <td>${dataOfIndia.Global.NewConfirmed}</td>
 
      </tr>

      <tr>
        <th scope="row" style = "background : lightblue;">Total Confirmed</th>
        <td>${ dataOfIndia.Global.TotalConfirmed}</td>
 
      </tr>

      <tr>
        <th scope="row">New Deaths</th>
        <td>${dataOfIndia.Global.NewDeaths}</td>
 
      </tr>

      <tr>
        <th scope="row" style = "background : red;">Total Deaths</th>
        <td>${dataOfIndia.Global.TotalDeaths}</td>
 
      </tr>
      <tr>
        <th scope="row">New Recovered</th>
        <td>${dataOfIndia.Global.NewRecovered}</td>
 
      </tr>

      <tr>
        <th scope="row" style = "background : green;">Total Recovered</th>
        <td>${dataOfIndia.Global.TotalRecovered}</td>
 
      </tr>

      
      <tr>
        <th scope="row" style = "background : gray;">Last Update</th>
        <td>${dataOfIndia.Global.Date}</td>
 
      </tr>
      
      
      `

  })

  } catch (error) {

    document.getElementsByClassName('alert-danger')[0].innerText = `please check your internet connection...${error}`;
  document.getElementsByClassName('alert-danger')[0].style.display = "block";
  ShowGraph([null,null,null,null]);
    
  }




function ShowGraphs(arrayofdata)
{
  
var ctx = document.getElementById('myChart2').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
        labels: ['New Confirmed', 'Total Confirmed', 'New Deaths', 'Total Deaths', 'New Recovered','TotalRecovered'],
        datasets: [{
            label: '# of Votes',
            data: arrayofdata,
            backgroundColor: [
               
                'rgba(54, 162, 235)',
                'rgba(255, 206, 86)',
                'blue',
                'red',
                'rgba(175, 62, 102)',
                'rgba(45, 192, 172)',
               
            ],
            borderColor: [
            'rgba(54, 162, 235)',
                'rgba(255, 206, 86)',
                'blue',
                'red',
                'rgba(175, 62, 102)',
                'rgba(45, 192, 172)',
            ],
            borderWidth: 1
        }]
    },
    options: {
      responsive : false

      
        ,scales: {
            y: {
                beginAtZero: true
            }
        }
        , plugins: {
            title: {
                display: true,
                text: 'World'
                ,fontSize : '40px'
            }
        },

        animation :{
          duration : 1000,
          easing : "linear"
          ,loop : false
        }
    }
});

}
  </script>


<!-- for the third chart  -->


</html>